{"ast":null,"code":"import * as data from '../../../mock-data.json';\nimport { bases } from 'src/app/pages/header/img-url';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../sort-courses.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/sidenav\";\nimport * as i6 from \"../../../safe.pipe\";\nconst _c0 = [\"mapObject\"];\n\nfunction BislatOutputComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelementStart(1, \"h1\");\n    i0.ɵɵtext(2, \"\\u05E7\\u05D5\\u05E8\\u05E1 \");\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.item.CourseNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.item.CourseName);\n  }\n}\n\nfunction BislatOutputComponent_div_11_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\u05E9\\u05D9\\u05DD \\u05DC\\u05D1 \\u2661, \", ctx_r3.item.note, \"\");\n  }\n}\n\nfunction BislatOutputComponent_div_11_img_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 21, 22);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵclassProp(\"map__size\", true);\n  }\n}\n\nfunction BislatOutputComponent_div_11_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const base_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\u2022 \", base_r8, \"\");\n  }\n}\n\nfunction BislatOutputComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelementStart(1, \"div\", 12);\n    i0.ɵɵelementStart(2, \"h4\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, BislatOutputComponent_div_11_span_6_Template, 2, 1, \"span\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"object\", 14, 15);\n    i0.ɵɵtemplate(9, BislatOutputComponent_div_11_img_9_Template, 2, 2, \"img\", 16);\n    i0.ɵɵelementStart(10, \"h4\", 17);\n    i0.ɵɵtext(11, \"\\u05D4\\u05D1\\u05E1\\u05D9\\u05E1\\u05D9\\u05DD \\u05D1\\u05D4\\u05DD \\u05E0\\u05D9\\u05EA\\u05DF \\u05DC\\u05E9\\u05E8\\u05EA \\u05D4\\u05DD- \");\n    i0.ɵɵtemplate(12, BislatOutputComponent_div_11_span_12_Template, 2, 1, \"span\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 19);\n    i0.ɵɵelement(14, \"iframe\", 20);\n    i0.ɵɵpipe(15, \"safe\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.item.CourseDescription, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u05DE\\u05E9\\u05DA \\u05D4\\u05D4\\u05DB\\u05E9\\u05E8\\u05D4- \", ctx_r2.item.CourseTime, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.item.note);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"map__size\", ctx_r2.changeMap);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.changeMap);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.item.CourseBases);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(15, 8, ctx_r2.item.YouTubeURL), i0.ɵɵsanitizeResourceUrl);\n  }\n}\n\nexport let BislatOutputComponent = /*#__PURE__*/(() => {\n  class BislatOutputComponent {\n    constructor(sanitizer, route, service, renderer) {\n      this.sanitizer = sanitizer;\n      this.route = route;\n      this.renderer = renderer;\n      this.isReadMore = false;\n      this.changeMap = false;\n      this.alertText = 'נוסף למועדפים בהצלחה';\n      this.timer = 0;\n      this.tof = [];\n      this.inputPlaceholder = \"\" + this.route.snapshot.paramMap.get('number');\n      this.dictionaryData = data;\n      this.item = service.getSelectedCourse(this.inputPlaceholder);\n      this.favoritePosition = service.isItemFavorite(this.item);\n      setTimeout(() => {\n        this.changeMap = this.mapPosition();\n      }, 3500);\n      this.timer = new Date().getTime();\n    }\n\n    set mapObject(o) {\n      this.renderer.listen(o.nativeElement, \"load\", () => {\n        this.map = o.nativeElement.contentDocument;\n        this.removeBases();\n      });\n    }\n\n    ngOnInit() {}\n\n    renameBases() {\n      let elementsID = [];\n\n      for (let i = 0; i < this.item.CourseBases.length; i++) {\n        elementsID.push(this.item.CourseBases[i].replace(\" \", \"_\").replace(\"''\", \"_\"));\n      }\n\n      return elementsID;\n    } //--------------------------------------------------\n\n\n    mapPosition() {\n      const courseBases = this.renameBases();\n\n      for (let i = 0; i < courseBases.length; i++) {\n        if (!bases.includes(courseBases[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    } //--------------------------------------------------\n\n\n    removeBases() {\n      var _a;\n\n      const elementsID = this.renameBases();\n\n      for (let i = 0; i < bases.length; i++) {\n        if (!elementsID.includes(bases[i])) {\n          this.renderer.setStyle((_a = this.map) === null || _a === void 0 ? void 0 : _a.getElementById(bases[i]), \"display\", \"none\");\n        }\n      }\n    } //--------------------------------------------------\n\n\n    removeOrAddFavorite() {\n      let favorites = JSON.parse(localStorage.getItem('courseName') || '[]');\n\n      if (this.favoritePosition === 'notFavorite.svg') {\n        this.favoritePosition = 'favorite.svg';\n        favorites.push(this.item.CourseName);\n        this.alertText = \"נוסף למועדפים בהצלחה\";\n      } else if (this.favoritePosition === 'favorite.svg') {\n        this.favoritePosition = 'notFavorite.svg';\n        this.alertText = \"הוסר מהמועדפים\";\n\n        for (let i = 0; i < favorites.length; i++) {\n          if (favorites[i] === this.item.CourseName) {\n            favorites.splice(i, 1);\n            break;\n          }\n        }\n      }\n\n      this.snav.opened = true;\n      this.tof.push(true);\n      let index = this.tof.length - 1;\n      setTimeout(() => {\n        this.tof[index] = false;\n      }, 1100);\n      setTimeout(() => {\n        if (!this.tof.includes(true)) {\n          this.snav.opened = false;\n        }\n      }, 1100);\n      localStorage.setItem('courseName', JSON.stringify(favorites));\n    }\n\n  }\n\n  BislatOutputComponent.ɵfac = function BislatOutputComponent_Factory(t) {\n    return new (t || BislatOutputComponent)(i0.ɵɵdirectiveInject(i1.DomSanitizer), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.SortCoursesService), i0.ɵɵdirectiveInject(i0.Renderer2));\n  };\n\n  BislatOutputComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BislatOutputComponent,\n    selectors: [[\"app-bislat-output\"]],\n    viewQuery: function BislatOutputComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatSidenav, 5);\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.snav = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mapObject = _t.first);\n      }\n    },\n    decls: 12,\n    vars: 4,\n    consts: [[\"src\", \"../../../../assets/images/map.svg\", 2, \"height\", \"0\", \"width\", \"0\"], [\"src\", \"../../../../assets/images/favorite.svg\", 2, \"height\", \"0\", \"width\", \"0\"], [\"src\", \"../../../../assets/images/notFavorite.svg\", 2, \"height\", \"0\", \"width\", \"0\"], [1, \"favorite-icon\", 3, \"src\", \"click\"], [\"src\", \"../../../../assets/images/home.svg\", \"routerLink\", \"/homePage\", 1, \"homepage-icon\"], [\"class\", \"header-container\", 4, \"ngIf\"], [\"mode\", \"over\", \"position\", \"end\", \"fixedInViewport\", \"\", \"fixedTopGap\", \"0\", 1, \"message-background\"], [\"snav\", \"\"], [\"mat-list-item\", \"\", 2, \"font-size\", \"18px\"], [\"class\", \"course-grid\", 4, \"ngIf\"], [1, \"header-container\"], [1, \"course-grid\"], [1, \"course-output\"], [4, \"ngIf\"], [\"type\", \"image/svg+xml\", \"data\", i0.ɵɵtrustConstantResourceUrl`assets/images/map_tmp7.svg`, 1, \"map\"], [\"mapObject\", \"\"], [\"src\", \"../../../../assets/images/map.svg\", \"class\", \"map\", 3, \"map__size\", 4, \"ngIf\"], [1, \"bases-grid\"], [4, \"ngFor\", \"ngForOf\"], [1, \"youtube-container\"], [1, \"youtube-video\", 3, \"src\"], [\"src\", \"../../../../assets/images/map.svg\", 1, \"map\"], [\"mapAllBases\", \"\"]],\n    template: function BislatOutputComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"img\", 0);\n        i0.ɵɵelement(1, \"img\", 1);\n        i0.ɵɵelement(2, \"img\", 2);\n        i0.ɵɵelementStart(3, \"img\", 3);\n        i0.ɵɵlistener(\"click\", function BislatOutputComponent_Template_img_click_3_listener() {\n          return ctx.removeOrAddFavorite();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵtemplate(5, BislatOutputComponent_div_5_Template, 7, 2, \"div\", 5);\n        i0.ɵɵelementStart(6, \"mat-sidenav-container\");\n        i0.ɵɵelementStart(7, \"mat-sidenav\", 6, 7);\n        i0.ɵɵelementStart(9, \"h3\", 8);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(11, BislatOutputComponent_div_11_Template, 16, 10, \"div\", 9);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate1(\"src\", \"../../../../assets/images/\", ctx.favoritePosition, \"\", i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.item);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.alertText);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.item);\n      }\n    },\n    directives: [i2.RouterLink, i4.NgIf, i5.MatSidenavContainer, i5.MatSidenav, i4.NgForOf],\n    pipes: [i6.SafePipe],\n    styles: [\".header-container[_ngcontent-%COMP%]{padding:8px 47px 8px 60px;color:#2e365b}.course-grid[_ngcontent-%COMP%]{display:grid;grid-gap:25px;grid-template-columns:auto 35%;grid-template-rows:auto auto;margin-bottom:70px;padding:4%;box-sizing:border-box}.bases-grid[_ngcontent-%COMP%]{grid-column:1/2;grid-row:2}.bases-grid[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}h2[_ngcontent-%COMP%]{margin:-6px 1.2px;line-height:100%}.course-output[_ngcontent-%COMP%]{width:100%;padding:10px;box-sizing:border-box;height:-moz-fit-content;height:fit-content;background:#ffffff;border-radius:18rem;filter:drop-shadow(#00000045 3px 3px 10px);grid-column:1/3}.course-output[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:10px;font-size:16rem;display:block}.message-background[_ngcontent-%COMP%]{background-color:#e8e9eaed;height:max-content;border-radius:6px 0 0 6px;height:-moz-fit-content;height:fit-content;padding:5px;box-sizing:border-box;font-size:18px}.map[_ngcontent-%COMP%]{width:0%;max-width:300px;grid-column:2/3;grid-row:2;margin:0 auto}.map.map__size[_ngcontent-%COMP%]{width:100%;min-width:100px}.youtube-container[_ngcontent-%COMP%]{width:min-content;height:min-content;background:#ffffff;margin:auto;grid-column:1/3;padding:8px;border-radius:20rem;filter:drop-shadow(#00000045 3px 3px 10px)}.youtube-video[_ngcontent-%COMP%]{width:70vw;max-width:600px;height:38vw;max-height:280px;border-radius:15px}.favorite-icon[_ngcontent-%COMP%]{position:absolute;top:21px;width:29px;margin-right:15px}.homepage-icon[_ngcontent-%COMP%]{position:absolute;top:21px;left:15px;width:40px}@media (max-width: 330px){.homepage-icon[_ngcontent-%COMP%]{width:36px}.favorite-icon[_ngcontent-%COMP%]{width:24px}.header-container[_ngcontent-%COMP%]{padding:10px 41px 10px 50px}h2[_ngcontent-%COMP%]{font-size:17rem;margin:-5px 1px}.course-output[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14rem}}@media (min-width: 1200px){.header-container[_ngcontent-%COMP%]{padding:5px 51px 10px 60px}.favorite-icon[_ngcontent-%COMP%]{width:33px}.course-grid[_ngcontent-%COMP%]{grid-template-columns:auto 26%;grid-template-rows:min-content min-content 75%;padding-left:7%;margin-bottom:0}.course-output[_ngcontent-%COMP%]{grid-column:1/2}.course-output[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18rem}.map[_ngcontent-%COMP%]{grid-row:1/4}.youtube-container[_ngcontent-%COMP%]{grid-column:1/2}.youtube-video[_ngcontent-%COMP%]{width:63vw;height:35vw}}\"]\n  });\n  return BislatOutputComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}