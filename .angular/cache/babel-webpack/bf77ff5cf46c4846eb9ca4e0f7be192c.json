{"ast":null,"code":"import * as data from '../../../mock-data.json';\nimport { bases } from 'src/app/pages/header/img-url';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../sort-courses.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../safe.pipe\";\nconst _c0 = [\"mapObject\"];\n\nfunction BislatOutputComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelementStart(1, \"h1\");\n    i0.ɵɵtext(2, \"\\u05E7\\u05D5\\u05E8\\u05E1 \");\n    i0.ɵɵelementStart(3, \"span\", 8);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.item.CourseNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.item.CourseName);\n  }\n}\n\nfunction BislatOutputComponent_div_6_object_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"object\", 17, 18);\n  }\n}\n\nfunction BislatOutputComponent_div_6_img_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 19);\n  }\n}\n\nfunction BislatOutputComponent_div_6_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const base_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\u2022 \", base_r6, \"\");\n  }\n}\n\nfunction BislatOutputComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, BislatOutputComponent_div_6_object_5_Template, 2, 0, \"object\", 11);\n    i0.ɵɵtemplate(6, BislatOutputComponent_div_6_img_6_Template, 1, 0, \"img\", 12);\n    i0.ɵɵelementStart(7, \"h3\", 13);\n    i0.ɵɵtext(8, \"\\u05D4\\u05D1\\u05E1\\u05D9\\u05E1\\u05D9\\u05DD \\u05D1\\u05D4\\u05DD \\u05E0\\u05D9\\u05EA\\u05DF \\u05DC\\u05E9\\u05E8\\u05EA \\u05D4\\u05DD- \");\n    i0.ɵɵtemplate(9, BislatOutputComponent_div_6_span_9_Template, 2, 1, \"span\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 15);\n    i0.ɵɵelement(11, \"iframe\", 16);\n    i0.ɵɵpipe(12, \"safe\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.item.CourseDescription, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u05DE\\u05E9\\u05DA \\u05D4\\u05D4\\u05DB\\u05E9\\u05E8\\u05D4- \", ctx_r1.item.CourseTime, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.changeMap);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.changeMap);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.item.CourseBases);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(12, 6, ctx_r1.item.YouTubeURL), i0.ɵɵsanitizeResourceUrl);\n  }\n}\n\nexport let BislatOutputComponent = /*#__PURE__*/(() => {\n  class BislatOutputComponent {\n    constructor(sanitizer, route, service, renderer) {\n      this.sanitizer = sanitizer;\n      this.route = route;\n      this.renderer = renderer;\n      this.isReadMore = false;\n      this.changeMap = true;\n      this.inputPlaceholder = \"\" + this.route.snapshot.paramMap.get('number');\n      this.dictionaryData = data;\n      this.item = service.getSelectedCourse(this.inputPlaceholder);\n      this.favoritePosition = service.isItemFavorite(this.item);\n      this.changeMap = this.mapPosition();\n    }\n\n    set mapObject(o) {\n      this.renderer.listen(o.nativeElement, \"load\", () => {\n        this.map = o.nativeElement.contentDocument;\n        this.removeBases();\n      });\n    }\n\n    ngOnInit() {}\n\n    renameBases() {\n      let elementsID = [];\n\n      for (let i = 0; i < this.item.CourseBases.length; i++) {\n        elementsID.push(this.item.CourseBases[i].replace(\" \", \"_\").replace(\"''\", \"_\"));\n      }\n\n      return elementsID;\n    } //--------------------------------------------------\n\n\n    mapPosition() {\n      if (this.item.CourseBases[0] === \"כל בסיסי חיל האוויר\") {\n        return false;\n      }\n\n      return true;\n    } //--------------------------------------------------\n\n\n    removeBases() {\n      var _a;\n\n      if (!this.changeMap) {\n        return;\n      }\n\n      const elementsID = this.renameBases();\n\n      for (let i = 0; i < bases.length; i++) {\n        if (!elementsID.includes(bases[i])) {\n          this.renderer.setStyle((_a = this.map) === null || _a === void 0 ? void 0 : _a.getElementById(bases[i]), \"display\", \"none\");\n        }\n      }\n    }\n\n    removeOrAddFavorite() {\n      let favorites = JSON.parse(localStorage.getItem('courseNumber') || '[]');\n\n      if (this.favoritePosition === 'notFavorite.svg') {\n        this.favoritePosition = 'favorite.svg';\n        favorites.push(this.item.CourseNumber); // alert(\"נוסף למועדפים בהצלחה\");\n      } else if (this.favoritePosition === 'favorite.svg') {\n        this.favoritePosition = 'notFavorite.svg';\n\n        for (let i = 0; i < favorites.length; i++) {\n          if (favorites[i] === this.item.CourseNumber) {\n            favorites.splice(i, 1);\n            break;\n          }\n        }\n      }\n\n      localStorage.setItem('courseNumber', JSON.stringify(favorites));\n    }\n\n  }\n\n  BislatOutputComponent.ɵfac = function BislatOutputComponent_Factory(t) {\n    return new (t || BislatOutputComponent)(i0.ɵɵdirectiveInject(i1.DomSanitizer), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.SortCoursesService), i0.ɵɵdirectiveInject(i0.Renderer2));\n  };\n\n  BislatOutputComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BislatOutputComponent,\n    selectors: [[\"app-bislat-output\"]],\n    viewQuery: function BislatOutputComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mapObject = _t.first);\n      }\n    },\n    decls: 7,\n    vars: 3,\n    consts: [[\"src\", \"../../../../assets/images/map.svg\", 2, \"height\", \"0\", \"width\", \"0\"], [\"src\", \"../../../../assets/images/favorite.svg\", 2, \"height\", \"0\", \"width\", \"0\"], [\"src\", \"../../../../assets/images/notFavorite.svg\", 2, \"height\", \"0\", \"width\", \"0\"], [1, \"favorite-icon\", 3, \"src\", \"click\"], [\"src\", \"../../../../assets/images/home.svg\", \"routerLink\", \"/homePage\", 1, \"homepage-icon\"], [\"class\", \"header-container\", 4, \"ngIf\"], [\"class\", \"course-grid\", 4, \"ngIf\"], [1, \"header-container\"], [1, \"course-num\"], [1, \"course-grid\"], [1, \"course-output\"], [\"type\", \"image/svg+xml\", \"class\", \"map\", \"data\", \"assets/images/map_tmp7.svg\", 4, \"ngIf\"], [\"src\", \"../../../../assets/images/map.svg\", \"class\", \"map\", 4, \"ngIf\"], [1, \"bases-grid\"], [4, \"ngFor\", \"ngForOf\"], [1, \"youtube-container\"], [1, \"youtube-video\", 3, \"src\"], [\"type\", \"image/svg+xml\", \"data\", i0.ɵɵtrustConstantResourceUrl`assets/images/map_tmp7.svg`, 1, \"map\"], [\"mapObject\", \"\"], [\"src\", \"../../../../assets/images/map.svg\", 1, \"map\"]],\n    template: function BislatOutputComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"img\", 0);\n        i0.ɵɵelement(1, \"img\", 1);\n        i0.ɵɵelement(2, \"img\", 2);\n        i0.ɵɵelementStart(3, \"img\", 3);\n        i0.ɵɵlistener(\"click\", function BislatOutputComponent_Template_img_click_3_listener() {\n          return ctx.removeOrAddFavorite();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵtemplate(5, BislatOutputComponent_div_5_Template, 7, 2, \"div\", 5);\n        i0.ɵɵtemplate(6, BislatOutputComponent_div_6_Template, 13, 8, \"div\", 6);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate1(\"src\", \"../../../../assets/images/\", ctx.favoritePosition, \"\", i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.item);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.item);\n      }\n    },\n    directives: [i2.RouterLink, i4.NgIf, i4.NgForOf],\n    pipes: [i5.SafePipe],\n    styles: [\"[_nghost-%COMP%]{font-weight:300}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{padding:7px 45px;color:#2e365b}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{font-size:37rem;font-weight:900;display:inline;margin:0}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]   .course-num[_ngcontent-%COMP%]{font-size:33rem}[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22rem;font-weight:300;margin:0 -30px}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18rem;font-weight:300;margin:0;padding:10rem}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16rem;display:block}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]   .bases-grid[_ngcontent-%COMP%]{grid-column:1/2;grid-row:2}[_nghost-%COMP%]   .course-grid[_ngcontent-%COMP%]{display:grid;grid-gap:25px;grid-template-columns:auto 55%;grid-template-rows:auto auto;margin-bottom:70px;padding:4%;box-sizing:border-box}[_nghost-%COMP%]   .course-output[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;font-size:18rem;background:#ffffff;padding:10rem;box-sizing:border-box;border-radius:18rem;filter:drop-shadow(#00000045 3px 3px 10px);overflow-y:auto;grid-column:1/3}[_nghost-%COMP%]   .course-output[_ngcontent-%COMP%]   .read-more-less[_ngcontent-%COMP%]{height:17px;margin-top:14px;float:left}[_nghost-%COMP%]   .course-output[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin-top:10px}[_nghost-%COMP%]   .map[_ngcontent-%COMP%]{width:100%;max-width:300px;min-width:100px;grid-column:2/3;grid-row:2;margin:0 auto}[_nghost-%COMP%]   .youtube-container[_ngcontent-%COMP%]{width:min-content;height:min-content;background:#ffffff;margin:auto;grid-column:1/3;padding:8px;border-radius:20rem;filter:drop-shadow(#00000045 3px 3px 10px)}[_nghost-%COMP%]   .youtube-video[_ngcontent-%COMP%]{width:70vw;max-width:600px;height:38vw;max-height:280px;border-radius:15px}[_nghost-%COMP%]   .favorite-icon[_ngcontent-%COMP%]{position:absolute;top:21px;width:27px;margin-right:15px}[_nghost-%COMP%]   .homepage-icon[_ngcontent-%COMP%]{position:absolute;top:20px;left:15px;width:40px}@media (max-width: 390px){[_nghost-%COMP%]   .homepage-icon[_ngcontent-%COMP%]{width:33px}[_nghost-%COMP%]   .favorite-icon[_ngcontent-%COMP%]{width:20px}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{padding:7px 38px}[_nghost-%COMP%]   .course-name[_ngcontent-%COMP%]{font-size:18rem}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{font-size:29rem}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]   .course-num[_ngcontent-%COMP%]{font-size:26rem}[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20rem;margin:0 -22px}}@media (min-width: 1200px){[_nghost-%COMP%]   .course-grid[_ngcontent-%COMP%]{grid-template-columns:auto 26%;grid-template-rows:min-content min-content 75%;padding-left:7%;margin-bottom:0}[_nghost-%COMP%]   .course-output[_ngcontent-%COMP%]{grid-column:1/2}[_nghost-%COMP%]   .map[_ngcontent-%COMP%]{grid-row:1/4}[_nghost-%COMP%]   .youtube-video[_ngcontent-%COMP%]{width:63vw;height:35vw}[_nghost-%COMP%]   .youtube-container[_ngcontent-%COMP%]{grid-column:1/2}}\"]\n  });\n  return BislatOutputComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}