{"ast":null,"code":"import * as data from '../../mock-data.json';\nimport { of, pipe } from 'rxjs';\nimport { distinctUntilChanged, debounceTime, switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport let SortCoursesService = /*#__PURE__*/(() => {\n  class SortCoursesService {\n    constructor() {\n      this.dictionaryData = data; //------------------------------------------------------------------------------------\n\n      this.getListCourses = () => pipe(debounceTime(300), distinctUntilChanged(), switchMap(input => {\n        input = input.trim();\n\n        if (input) {\n          const key = input[0];\n          const keyDictionary = this.dictionaryData[key];\n\n          if (keyDictionary) {\n            const filteredDictionary = keyDictionary.filter(item => item.CourseNumber.includes(input));\n            return of(filteredDictionary);\n          } else {\n            return of([]);\n          }\n        } else {\n          return of([]);\n        }\n      }));\n    }\n\n    getSelectedCourse(courseNumber) {\n      let tmp1;\n\n      if (courseNumber) {\n        const key = courseNumber[0];\n        const keyDictionary = this.dictionaryData[key];\n\n        if (keyDictionary) {\n          for (let i = 0; i < keyDictionary.length; i++) {\n            let tmp = keyDictionary[i];\n\n            if (tmp.CourseNumber === courseNumber) {\n              return tmp;\n            }\n          }\n        }\n      } else {\n        return tmp1;\n      }\n\n      return tmp1;\n    } //------------------------------------------------------------------------------------\n\n\n    isItemFavorite(item) {\n      let favorites = JSON.parse(localStorage.getItem('courseNumber') || '[]');\n\n      for (let i = 0; i < favorites.length; i++) {\n        if (favorites[i] === item.CourseNumber) {\n          return true;\n        }\n      }\n\n      return false;\n    } //------------------------------------------------------------------------------------\n\n\n    findFavoriteCourses() {\n      let coursesNumber = JSON.parse(localStorage.getItem('courseNumber') || '[]');\n      let favorites = [];\n      console.log(coursesNumber);\n\n      for (let i = 0; i < coursesNumber.length; i++) {\n        const key = coursesNumber[i];\n        let keyDictionary = this.dictionaryData[key[0]];\n\n        for (let y = 0; y < keyDictionary.length; y++) {\n          if (coursesNumber[i] === keyDictionary[y].CourseNumber) {\n            favorites.push(keyDictionary[y]);\n          }\n        }\n      }\n\n      console.log(favorites);\n      return favorites;\n    }\n\n  }\n\n  SortCoursesService.ɵfac = function SortCoursesService_Factory(t) {\n    return new (t || SortCoursesService)();\n  };\n\n  SortCoursesService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: SortCoursesService,\n    factory: SortCoursesService.ɵfac,\n    providedIn: 'root'\n  });\n  return SortCoursesService;\n})();","map":null,"metadata":{},"sourceType":"module"}